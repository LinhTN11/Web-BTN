{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import MainLayout from'../Components/Layout/MainLayout';import Login from'../pages/Login/Login';import Register from'../pages/Register/Register';import Dashboard from'../pages/Dashboard/Dashboard';import Users from'../pages/Users/Users';import Settings from'../pages/Settings/Settings';import MessengerChatPage from'../Components/Chat/MessengerChatPage';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{isAuthenticated}=useAuth();if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};const PublicRoute=_ref2=>{let{children}=_ref2;const{isAuthenticated,user}=useAuth();if(isAuthenticated){if((user===null||user===void 0?void 0:user.role)==='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return/*#__PURE__*/_jsx(Navigate,{to:\"/chat\",replace:true});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};const AdminRoute=_ref3=>{let{children}=_ref3;const{isAuthenticated,user}=useAuth();if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if((user===null||user===void 0?void 0:user.role)!=='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/chat\",replace:true});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};const DefaultRedirect=()=>{const{isAuthenticated,user}=useAuth();if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if((user===null||user===void 0?void 0:user.role)==='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return/*#__PURE__*/_jsx(Navigate,{to:\"/chat\",replace:true});};const AppRoutes=()=>{return/*#__PURE__*/_jsxs(Routes,{children:[\"      \",/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(Dashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/users\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(Users,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/chat\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(MessengerChatPage,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(\"div\",{children:\"Profile Page (Coming Soon)\"})})})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(Settings,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(DefaultRedirect,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(DefaultRedirect,{})})]});};export default AppRoutes;","map":{"version":3,"names":["React","Routes","Route","Navigate","useAuth","MainLayout","Login","Register","Dashboard","Users","Settings","MessengerChatPage","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","to","replace","PublicRoute","_ref2","user","role","AdminRoute","_ref3","DefaultRedirect","AppRoutes","path","element"],"sources":["C:/Users/trann/Desktop/jwt-bt/frontend/src/routes/AppRoutes.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport MainLayout from '../Components/Layout/MainLayout';\r\nimport Login from '../pages/Login/Login';\r\nimport Register from '../pages/Register/Register';\r\nimport Dashboard from '../pages/Dashboard/Dashboard';\r\nimport Users from '../pages/Users/Users';\r\nimport Settings from '../pages/Settings/Settings';\r\nimport MessengerChatPage from '../Components/Chat/MessengerChatPage';\r\n\r\nconst ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { isAuthenticated } = useAuth();\r\n  \r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n  \r\n  return <>{children}</>;\r\n};\r\n\r\nconst PublicRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { isAuthenticated, user } = useAuth();\r\n  \r\n  if (isAuthenticated) {\r\n    if (user?.role === 'admin') {\r\n      return <Navigate to=\"/dashboard\" replace />;\r\n    }\r\n    return <Navigate to=\"/chat\" replace />;\r\n  }\r\n  \r\n  return <>{children}</>;\r\n};\r\n\r\nconst AdminRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { isAuthenticated, user } = useAuth();\r\n  \r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n  \r\n  if (user?.role !== 'admin') {\r\n    return <Navigate to=\"/chat\" replace />;\r\n  }\r\n  \r\n  return <>{children}</>;\r\n};\r\n\r\nconst DefaultRedirect: React.FC = () => {\r\n  const { isAuthenticated, user } = useAuth();\r\n  \r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n  \r\n  if (user?.role === 'admin') {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n  \r\n  return <Navigate to=\"/chat\" replace />;\r\n};\r\n\r\nconst AppRoutes: React.FC = () => {\r\n  return (\r\n    <Routes>      {/* Public Routes */}\r\n      <Route \r\n        path=\"/login\" \r\n        element={\r\n          <PublicRoute>\r\n            <Login />\r\n          </PublicRoute>\r\n        } \r\n      />\r\n      \r\n      <Route \r\n        path=\"/register\" \r\n        element={\r\n          <PublicRoute>\r\n            <Register />\r\n          </PublicRoute>\r\n        } \r\n      />\r\n        {/* Protected Routes */}\r\n      <Route \r\n        path=\"/dashboard\" \r\n        element={\r\n          <AdminRoute>\r\n            <MainLayout>\r\n              <Dashboard />\r\n            </MainLayout>\r\n          </AdminRoute>\r\n        } \r\n      />\r\n        <Route\r\n        path=\"/users\" \r\n        element={\r\n          <AdminRoute>\r\n            <MainLayout>\r\n              <Users />\r\n            </MainLayout>\r\n          </AdminRoute>\r\n        } \r\n      />\r\n      \r\n      <Route \r\n        path=\"/chat\" \r\n        element={\r\n          <ProtectedRoute>\r\n            <MainLayout>\r\n              <MessengerChatPage />\r\n            </MainLayout>\r\n          </ProtectedRoute>\r\n        } \r\n      />\r\n      \r\n      <Route \r\n        path=\"/profile\" \r\n        element={\r\n          <ProtectedRoute>\r\n            <MainLayout>\r\n              <div>Profile Page (Coming Soon)</div>\r\n            </MainLayout>\r\n          </ProtectedRoute>\r\n        } \r\n      />\r\n        <Route \r\n        path=\"/settings\" \r\n        element={\r\n          <ProtectedRoute>\r\n            <MainLayout>\r\n              <Settings />\r\n            </MainLayout>\r\n          </ProtectedRoute>\r\n        } \r\n      />\r\n        {/* Default Route */}\r\n      <Route path=\"/\" element={<DefaultRedirect />} />\r\n      \r\n      {/* 404 Route */}\r\n      <Route path=\"*\" element={<DefaultRedirect />} />\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default AppRoutes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}