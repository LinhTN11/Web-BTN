{"ast":null,"code":"import React,{useState}from'react';import{Form,Input,Button,Card,Typography,message,Space}from'antd';import{UserOutlined,LockOutlined}from'@ant-design/icons';import{useAuth}from'../../contexts/AuthContext';import{authAPI}from'../../services/api';import'./Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const Login=()=>{const[loading,setLoading]=useState(false);const{login}=useAuth();const onFinish=async values=>{setLoading(true);try{const response=await authAPI.login(values);login(response,response.accessToken);message.success('Đăng nhập thành công!');}catch(error){var _error$response;message.error(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||'Đăng nhập thất bại!');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-wrapper\",children:/*#__PURE__*/_jsxs(Card,{className:\"login-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo-evine.png\",alt:\"Evine Logo\",className:\"login-logo\"}),/*#__PURE__*/_jsx(Title,{level:2,className:\"login-title\",children:\"\\u0110\\u0103ng nh\\u1EADp\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Ch\\xE0o m\\u1EEBng b\\u1EA1n quay tr\\u1EDF l\\u1EA1i!\"})]}),/*#__PURE__*/_jsxs(Form,{name:\"login\",onFinish:onFinish,autoComplete:\"off\",size:\"large\",className:\"login-form\",children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:'Vui lòng nhập tên đăng nhập!'},{min:6,message:'Tên đăng nhập phải có ít nhất 6 ký tự!'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:'Vui lòng nhập mật khẩu!'},{min:6,message:'Mật khẩu phải có ít nhất 6 ký tự!'}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"M\\u1EADt kh\\u1EA9u\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loading,block:true,className:\"login-button\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-footer\",children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\"}),/*#__PURE__*/_jsx(Button,{type:\"link\",href:\"/register\",children:\"\\u0110\\u0103ng k\\xFD ngay\"})]})})]})})});};export default Login;","map":{"version":3,"names":["React","useState","Form","Input","Button","Card","Typography","message","Space","UserOutlined","LockOutlined","useAuth","authAPI","jsx","_jsx","jsxs","_jsxs","Title","Text","Login","loading","setLoading","login","onFinish","values","response","accessToken","success","error","_error$response","data","className","children","src","alt","level","type","name","autoComplete","size","Item","rules","required","min","prefix","placeholder","Password","htmlType","block","href"],"sources":["C:/Users/trann/Desktop/jwt-bt/frontend/src/pages/Login/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Input, Button, Card, Typography, message, Space } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { authAPI } from '../../services/api';\r\nimport { LoginFormData } from '../../types';\r\nimport './Login.css';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst Login: React.FC = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const { login } = useAuth();\r\n\r\n  const onFinish = async (values: LoginFormData) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await authAPI.login(values);\r\n      login(response, response.accessToken);\r\n      message.success('Đăng nhập thành công!');\r\n    } catch (error: any) {\r\n      message.error(error.response?.data || 'Đăng nhập thất bại!');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-wrapper\">\r\n        <Card className=\"login-card\">\r\n          <div className=\"login-header\">\r\n            <img src=\"/logo-evine.png\" alt=\"Evine Logo\" className=\"login-logo\" />\r\n            <Title level={2} className=\"login-title\">Đăng nhập</Title>\r\n            <Text type=\"secondary\">Chào mừng bạn quay trở lại!</Text>\r\n          </div>\r\n\r\n          <Form\r\n            name=\"login\"\r\n            onFinish={onFinish}\r\n            autoComplete=\"off\"\r\n            size=\"large\"\r\n            className=\"login-form\"\r\n          >\r\n            <Form.Item\r\n              name=\"username\"\r\n              rules={[\r\n                { required: true, message: 'Vui lòng nhập tên đăng nhập!' },\r\n                { min: 6, message: 'Tên đăng nhập phải có ít nhất 6 ký tự!' }\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<UserOutlined />}\r\n                placeholder=\"Tên đăng nhập\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[\r\n                { required: true, message: 'Vui lòng nhập mật khẩu!' },\r\n                { min: 6, message: 'Mật khẩu phải có ít nhất 6 ký tự!' }\r\n              ]}\r\n            >\r\n              <Input.Password\r\n                prefix={<LockOutlined />}\r\n                placeholder=\"Mật khẩu\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                loading={loading}\r\n                block\r\n                className=\"login-button\"\r\n              >\r\n                Đăng nhập\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n\r\n          <div className=\"login-footer\">\r\n            <Space>\r\n              <Text type=\"secondary\">Chưa có tài khoản?</Text>\r\n              <Button type=\"link\" href=\"/register\">\r\n                Đăng ký ngay\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}