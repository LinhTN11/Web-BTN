{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/trann/Desktop/jwt-bt/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"confirmPassword\"];import React,{useState}from'react';import{Form,Input,Button,Card,Typography,message}from'antd';import{UserOutlined,LockOutlined,MailOutlined}from'@ant-design/icons';import{useNavigate,Link}from'react-router-dom';import{authAPI}from'../../services/api';import'./Register.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const Register=()=>{const[loading,setLoading]=useState(false);const navigate=useNavigate();const onFinish=async values=>{try{setLoading(true);// Remove confirmPassword before sending to server\nconst{confirmPassword:_}=values,registerData=_objectWithoutProperties(values,_excluded);await authAPI.register(registerData);message.success('Đăng ký thành công! Vui lòng đăng nhập.');navigate('/login');}catch(error){var _error$response,_error$response4;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===409){var _error$response2,_error$response2$data;message.error((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message);}else{var _error$response3,_error$response3$data;message.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Có lỗi xảy ra khi đăng ký. Vui lòng thử lại!');}console.error('Register error:',(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"register-wrapper\",children:/*#__PURE__*/_jsxs(Card,{className:\"register-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"register-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo-evine.png\",alt:\"Evine Logo\",className:\"register-logo\"}),/*#__PURE__*/_jsx(Title,{level:2,className:\"register-title\",children:\"\\u0110\\u0103ng k\\xFD\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"T\\u1EA1o t\\xE0i kho\\u1EA3n m\\u1EDBi!\"})]}),/*#__PURE__*/_jsxs(Form,{name:\"register\",onFinish:onFinish,size:\"large\",className:\"register-form\",children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:'Vui lòng nhập tên đăng nhập!'},{min:6,message:'Tên đăng nhập phải có ít nhất 6 ký tự!'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"email\",rules:[{required:true,message:'Vui lòng nhập email!'},{type:'email',message:'Vui lòng nhập email hợp lệ!'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(MailOutlined,{}),placeholder:\"Email\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:'Vui lòng nhập mật khẩu!'},{min:6,message:'Mật khẩu phải có ít nhất 6 ký tự!'}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"M\\u1EADt kh\\u1EA9u\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"confirmPassword\",dependencies:['password'],rules:[{required:true,message:'Vui lòng xác nhận mật khẩu!'},_ref=>{let{getFieldValue}=_ref;return{validator(_,value){if(!value||getFieldValue('password')===value){return Promise.resolve();}return Promise.reject(new Error('Mật khẩu xác nhận không khớp!'));}};}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",className:\"register-button\",loading:loading,block:true,children:\"\\u0110\\u0103ng k\\xFD\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-link\",children:[\"\\u0110\\xE3 c\\xF3 t\\xE0i kho\\u1EA3n? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\u0110\\u0103ng nh\\u1EADp ngay!\"})]})]})]})})});};export default Register;","map":{"version":3,"names":["React","useState","Form","Input","Button","Card","Typography","message","UserOutlined","LockOutlined","MailOutlined","useNavigate","Link","authAPI","jsx","_jsx","jsxs","_jsxs","Title","Text","Register","loading","setLoading","navigate","onFinish","values","confirmPassword","_","registerData","_objectWithoutProperties","_excluded","register","success","error","_error$response","_error$response4","response","status","_error$response2","_error$response2$data","data","_error$response3","_error$response3$data","console","className","children","src","alt","level","type","name","size","Item","rules","required","min","prefix","placeholder","Password","dependencies","_ref","getFieldValue","validator","value","Promise","resolve","reject","Error","htmlType","block","to"],"sources":["C:/Users/trann/Desktop/jwt-bt/frontend/src/pages/Register/Register.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Input, Button, Card, Typography, message } from 'antd';\r\nimport { UserOutlined, LockOutlined, MailOutlined } from '@ant-design/icons';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { authAPI } from '../../services/api';\r\nimport { RegisterFormData } from '../../types';\r\nimport './Register.css';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst Register: React.FC = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();  const onFinish = async (values: RegisterFormData) => {\r\n    try {\r\n      setLoading(true);\r\n      // Remove confirmPassword before sending to server\r\n      const { confirmPassword: _, ...registerData } = values;\r\n      await authAPI.register(registerData);\r\n      message.success('Đăng ký thành công! Vui lòng đăng nhập.');\r\n      navigate('/login');\r\n    } catch (error: any) {\r\n      if (error.response?.status === 409) {\r\n        message.error(error.response?.data?.message);\r\n      } else {\r\n        message.error(\r\n          error.response?.data?.message || \r\n          'Có lỗi xảy ra khi đăng ký. Vui lòng thử lại!'\r\n        );\r\n      }\r\n      console.error('Register error:', error.response?.data);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <div className=\"register-wrapper\">\r\n        <Card className=\"register-card\">\r\n          <div className=\"register-header\">\r\n            <img src=\"/logo-evine.png\" alt=\"Evine Logo\" className=\"register-logo\" />\r\n            <Title level={2} className=\"register-title\">Đăng ký</Title>\r\n            <Text type=\"secondary\">Tạo tài khoản mới!</Text>\r\n          </div>\r\n\r\n          <Form\r\n            name=\"register\"\r\n            onFinish={onFinish}\r\n            size=\"large\"\r\n            className=\"register-form\"\r\n          >\r\n            <Form.Item\r\n              name=\"username\"\r\n              rules={[\r\n                { required: true, message: 'Vui lòng nhập tên đăng nhập!' },\r\n                { min: 6, message: 'Tên đăng nhập phải có ít nhất 6 ký tự!' }\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<UserOutlined />}\r\n                placeholder=\"Tên đăng nhập\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"email\"\r\n              rules={[\r\n                { required: true, message: 'Vui lòng nhập email!' },\r\n                { type: 'email', message: 'Vui lòng nhập email hợp lệ!' }\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<MailOutlined />}\r\n                placeholder=\"Email\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[\r\n                { required: true, message: 'Vui lòng nhập mật khẩu!' },\r\n                { min: 6, message: 'Mật khẩu phải có ít nhất 6 ký tự!' }\r\n              ]}\r\n            >\r\n              <Input.Password\r\n                prefix={<LockOutlined />}\r\n                placeholder=\"Mật khẩu\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"confirmPassword\"\r\n              dependencies={['password']}\r\n              rules={[\r\n                { required: true, message: 'Vui lòng xác nhận mật khẩu!' },\r\n                ({ getFieldValue }) => ({\r\n                  validator(_, value) {\r\n                    if (!value || getFieldValue('password') === value) {\r\n                      return Promise.resolve();\r\n                    }\r\n                    return Promise.reject(new Error('Mật khẩu xác nhận không khớp!'));\r\n                  },\r\n                }),\r\n              ]}\r\n            >\r\n              <Input.Password\r\n                prefix={<LockOutlined />}\r\n                placeholder=\"Xác nhận mật khẩu\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                className=\"register-button\"\r\n                loading={loading}\r\n                block\r\n              >\r\n                Đăng ký\r\n              </Button>\r\n            </Form.Item>\r\n\r\n            <div className=\"login-link\">\r\n              Đã có tài khoản? <Link to=\"/login\">Đăng nhập ngay!</Link>\r\n            </div>\r\n          </Form>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}